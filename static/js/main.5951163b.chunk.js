(this.webpackJsonpimaging=this.webpackJsonpimaging||[]).push([[0],{24:function(e,t,n){e.exports=n(52)},34:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),c=n.n(o),u=n(5),i=n(2),l=n(21),s=(n(34),n(10)),d=n.n(s),E=function(e){return a.a.createElement("button",{type:"submit",onClick:e.clicked},e.children)},m=Object(i.b)((function(e){return{keyword:e.keyword}}),(function(e){return{onFetchImages:function(t){return e(function(e){return function(t){var n="https://api.unsplash.com/search/photos?page=1&query=".concat(e,"&client_id=").concat("9ac327f77c1de13d07491eb3e8c8084cb501a2d989b5e4b7f159822d3aceed74");t({type:"FETCH_IMAGES_START"}),d.a.get(n).then((function(n){0===n.data.results.length||""===e?t({type:"FETCH_IMAGES_FAIL"}):t({type:"FETCH_IMAGES_SUCCESS",images:n.data.results})})).catch((function(e){t({type:"FETCH_IMAGES_FAIL"})}))}}(t))},onSetKeyword:function(t){return e(function(e){return{type:"SET_KEYWORD",keyword:e}}(t))},onSaveQuery:function(){return e({type:"SAVE_QUERY"})}}}))((function(e){var t=e.onFetchImages;Object(r.useEffect)((function(){t(e.keyword)}),[t]);return a.a.createElement("div",{className:"search"},a.a.createElement("h1",null,"Photos by"," ",a.a.createElement("a",{href:"https://unsplash.com/",target:"_blank"},"Unsplash")),a.a.createElement("input",{type:"text",placeholder:"Search photos",value:e.keyword,onChange:function(t){return function(t){e.onSetKeyword(t.target.value)}(t)},onKeyPress:function(n){return function(n){"Enter"===n.key&&t(e.keyword)}(n)}}),a.a.createElement(E,{clicked:function(){return t(e.keyword)}},"Search"),a.a.createElement(E,{clicked:function(){return e.onSaveQuery()}},"Save"))})),f=function(){return a.a.createElement("div",{className:"loader"},"Loading...")},h=Object(i.b)(null,(function(e){return{onLeaveErrorMessage:function(){return e({type:"LEAVE_ERROR_MESSAGE"})}}}))((function(e){return a.a.createElement("div",{className:"Backdrop",onClick:function(){return e.onLeaveErrorMessage()}})})),p=Object(i.b)((function(e){return{keyword:e.keyword,error:e.error}}))((function(e){return a.a.createElement("div",{className:"errorWindow"},a.a.createElement(h,null),""!==e.keyword?a.a.createElement("p",null,"There are no images with keyword: ",e.keyword):a.a.createElement("p",null,"Search field is emty"))})),y=Object(i.b)((function(e){return{images:e.images,loading:e.loading,error:e.error}}))((function(e){console.log(e.images[0]);var t=e.images.map((function(t){return a.a.createElement("div",{key:t.id,className:"box"},a.a.createElement("a",{href:t.user.links.html,target:"_blank"},a.a.createElement("img",{src:t.urls.regular,alt:t.alt_description})),a.a.createElement("p",null,"Photographer: ",t.user.name),e.error?a.a.createElement(p,null):null)}));return e.loading&&(t=a.a.createElement(f,null)),a.a.createElement("div",{className:"result-grid"},t)})),g=Object(i.b)((function(e){return{savedQueries:e.savedQueries}}),(function(e){return{onFetchSavedQuery:function(t){return e(function(e){return function(t){var n="https://api.unsplash.com/search/photos?page=1&query=".concat(e,"&client_id=").concat("9ac327f77c1de13d07491eb3e8c8084cb501a2d989b5e4b7f159822d3aceed74");t({type:"FETCH_IMAGES_START"}),d.a.get(n).then((function(e){t({type:"SHOW_SAVED_QUERY_RESULT",photos:e.data.results})})).catch((function(e){t({type:"FETCH_IMAGES_FAIL"})}))}}(t))}}}))((function(e){return a.a.createElement("div",{className:"saved-queries"},a.a.createElement("h2",null,"Saved queries:"),a.a.createElement("ul",null,e.savedQueries.map((function(t){return a.a.createElement("li",{key:t,onClick:function(){return e.onFetchSavedQuery(t)}},t)}))))})),S=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(m,null),a.a.createElement("div",{className:"photos"},a.a.createElement(y,null),a.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=n(22),k=n(23),_=function(e,t){return Object(k.a)({},e,{},t)},w={keyword:"CLIMB",images:[],savedQueries:[],loading:!1,error:!1},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_KEYWORD":return _(e,{keyword:t.keyword.toUpperCase(),error:!1});case"FETCH_IMAGES_START":return _(e,{loading:!0,error:!1});case"FETCH_IMAGES_SUCCESS":return _(e,{images:t.images,loading:!1,error:!1});case"FETCH_IMAGES_FAIL":return _(e,{loading:!1,error:!0});case"SAVE_QUERY":return""!==e.keyword?_(e,{savedQueries:[].concat(Object(v.a)(e.savedQueries),[e.keyword]),keyword:""}):e;case"SHOW_SAVED_QUERY_RESULT":return _(e,{images:t.photos,loading:!1,error:!1,keyword:""});case"LEAVE_ERROR_MESSAGE":return _(e,{error:!1,keyword:"",images:[]});default:return e}},A=u.c,T=Object(u.d)(b,A(Object(u.a)(l.a)));c.a.render(a.a.createElement(i.a,{store:T},a.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.5951163b.chunk.js.map